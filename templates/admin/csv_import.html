{% extends "admin/base_site.html" %}
{% load i18n admin_urls %}

{% block breadcrumbs %}
<div class="breadcrumbs">
    <a href="{% url 'admin:index' %}">Accueil</a>
    &rsaquo; <a href="{% url 'admin:app_list' app_label=opts.app_label %}">{{ opts.app_label|capfirst }}</a>
    &rsaquo; <a href="{% url opts|admin_urlname:'changelist' %}">{{ opts.verbose_name_plural|capfirst }}</a>
    &rsaquo; Import CSV
</div>
{% endblock %}

{% block content %}
<h1>{{ title }}</h1>

<div style="margin: 20px 0; padding: 15px; background: #f8f9fa; border-radius: 8px; border: 1px solid #dee2e6;">
    <h3 style="margin-top: 0;">Format attendu</h3>
    <p>Le fichier CSV doit utiliser le <strong>point-virgule (;)</strong> comme separateur et contenir les colonnes suivantes:</p>
    <code style="display: block; padding: 10px; background: #e9ecef; border-radius: 4px; margin: 10px 0;">{{ expected_columns }}</code>
    <p style="margin-bottom: 0; color: #6c757d; font-size: 0.9em;">
        Astuce: Vous pouvez exporter les donnees existantes en CSV depuis l'application pour obtenir un modele.
    </p>
</div>

<form method="post" enctype="multipart/form-data" style="margin-top: 20px;">
    {% csrf_token %}

    <div style="margin-bottom: 20px;">
        <label for="csv_file" style="display: block; margin-bottom: 8px; font-weight: bold;">Fichier CSV:</label>
        <input type="file" name="csv_file" id="csv_file" accept=".csv" required
               style="padding: 10px; border: 1px solid #ced4da; border-radius: 4px; width: 100%; max-width: 400px;">
    </div>

    <div style="margin-top: 20px;">
        <input type="submit" value="Importer" class="default"
               style="padding: 10px 20px; background: #417690; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 14px;">
        <a href=".." style="margin-left: 10px; padding: 10px 20px; background: #6c757d; color: white; border-radius: 4px; text-decoration: none; font-size: 14px;">
            Annuler
        </a>
    </div>
</form>
{% endblock %}
